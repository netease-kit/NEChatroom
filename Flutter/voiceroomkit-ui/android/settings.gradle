// Copyright (c) 2022 NetEase, Inc. All rights reserved.
// Use of this source code is governed by a MIT license that can be
// found in the LICENSE file.

include ':app'

def localPropertiesFile = new File(rootProject.projectDir, "local.properties")
def properties = new Properties()

assert localPropertiesFile.exists()
localPropertiesFile.withReader("UTF-8") { reader -> properties.load(reader) }

def flutterSdkPath = properties.getProperty("flutter.sdk")
assert flutterSdkPath != null, "flutter.sdk not set in local.properties"
apply from: "$flutterSdkPath/packages/flutter_tools/gradle/app_plugin_loader.gradle"

//引入本地roomkit工程
def xkitProjectPath = properties.getProperty("xkit.dir")
if (xkitProjectPath != null) {
    includeBuild(xkitProjectPath) {
        dependencySubstitution {
            substitute(module("com.netease.yunxin.kit.room:roomkit"))
                    .using(project(":roomkit:roomkit"))
        }
    }
}